# This is the standard config file for running with two
# CMS Pixel DTB chips (DUT and REF planes)

# Please DO NOT CHANGE this file but rather create a copy for
# new samples and change DAC values, chip types and trim config
# directories in the new copy.

[Producer.TLU]
# scint: 4 3 2 1 <--- beam
# 
# scint bits     2+4 =  6
# scint bits     4+8 = 12
# scint bits   1+4+8 = 13
# scint bits   2+4+8 = 14
# scint bits 1+2+4+8 = 15
AndMask = 1
OrMask = 0
VetoMask = 0
DutMask = 8
DebugLevel = 10
TriggerInterval = 0
TrigRollover = 0
# Setting HandShakeMode to 1: activate Handshake only for channel 0 (bit 1) 
# which is the telescope. The TLU does not expect a BUSY from CMSPixel
HandShakeMode = 0
#HandShakeMode = 9
EnableDUTVeto = 0
DUTInput3 = LEMO

[Producer.CMSPixelTRP]
# DUT MODULE:
tbmtype = tbm08b
roctype = psi46digv21
pcbtype = desytb

tbmFile = "/home/cmspixel/configurations/D1405/tbmParameters"
trimFile = "/home/cmspixel/configurations/D1405/trimParameters"
dacFile = "/home/cmspixel/configurations/D1405/dacParameters"
maskFile = "/home/cmspixel/configurations/D1405/D1405-mask.dat"
i2c = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15

# DAC settings:
#wbc        = 141

# DTB related settings:
# external clock on/off
external_clock = 1
# Select trigger source ("async" for external trigger, "async_dir" for ext. w/ TBM):
trigger_source = async_dir

# DTB board USB ID
usbId = "DTB_WS913S"
hubid = 31;

# Scope outputs:
#signalprobe_d1 = ctr
#signalprobe_d2 = tout
#signalprobe_a2 = sdata

# Supply voltages and current limits:
vd = 2.800
va = 1.800
id = 1.000
ia = 1.000

# DTB Timing
clk = 4
ctr = 4
sda = 19
tin = 9
deser160phase = 4
#level = 15
level = 12
# No TLU:
#triggerlatency = 73
# TLU w/o coincidence:
triggerlatency = 69

# Other settings (producer & pxarCore)
# pxarCore library verbosity
#verbosity = DEBUGHAL
verbosity = WARNING
# Waiting time (ms) before stopping DAQ (TLU is slow in stopping triggering...)
tlu_waiting_time = 4000

[Producer.CMSPixelDUT]
# DUT MODULE:
tbmtype = tbm08b
roctype = psi46digv21respin
pcbtype = desytb

tbmFile = "/home/cmspixel/configurations/D4037/tbmParameters"
trimFile = "/home/cmspixel/configurations/D4037/trimParameters"
dacFile = "/home/cmspixel/configurations/D4037/dacParameters"
maskFile = "/home/cmspixel/configurations/D4037/maskFile.dat"
i2c = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15

# DAC settings:
#wbc        = 141

# DTB related settings:
# external clock on/off
external_clock = 1
# Select trigger source ("async" for external trigger, "async_dir" for ext. w/ TBM):
trigger_source = async_dir

# DTB board USB ID
usbId = "DTB_WS6OKA"
hubid = 31;

# Scope outputs:
#signalprobe_d1 = ctr
#signalprobe_d2 = tout
#signalprobe_a2 = sdata

# Supply voltages and current limits:
vd = 2.800
va = 1.800
id = 1.000
ia = 1.000

# DTB Timing
clk = 4
ctr = 4
sda = 19
tin = 9
deser160phase = 4
#level = 15
level = 12
# No TLU:
#triggerlatency = 73
# TLU w/o coincidence:
triggerlatency = 69

# Other settings (producer & pxarCore)
# pxarCore library verbosity
#verbosity = DEBUGHAL
verbosity = WARNING
# Waiting time (ms) before stopping DAQ (TLU is slow in stopping triggering...)
tlu_waiting_time = 4000


[Producer.CMSPixelREF]
# DUT MODULE:
tbmtype = tbm08b
roctype = psi46digv21respin
pcbtype = desytb

tbmFile = "/home/cmspixel/configurations/D4020/tbmParameters"
trimFile = "/home/cmspixel/configurations/D4020/trimParameters"
dacFile = "/home/cmspixel/configurations/D4020/dacParameters"
maskFile = "/home/cmspixel/configurations/D4020/D4020-mask.dat"
i2c = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15

# DAC settings:
#wbc        = 141

# DTB related settings:
# external clock on/off
external_clock = 1
# Select trigger source ("async" for external trigger, "async_dir" for ext. w/ TBM):
trigger_source = async_dir

# DTB board USB ID
usbId = "DTB_WS6MP2"
hubid = 31;

# Scope outputs:
#signalprobe_d1 = ctr
#signalprobe_d2 = tout
#signalprobe_a2 = sdata

# Supply voltages and current limits:
vd = 2.800
va = 1.800
id = 1.000
ia = 1.000

# DTB Timing
clk = 4
ctr = 4
sda = 19
tin = 9
deser160phase = 4
#level = 15
level = 12
# No TLU:
#triggerlatency = 73
# TLU w/o coincidence:
triggerlatency = 69

# Other settings (producer & pxarCore)
# pxarCore library verbosity
#verbosity = DEBUGHAL
verbosity = WARNING
# Waiting time (ms) before stopping DAQ (TLU is slow in stopping triggering...)
tlu_waiting_time = 4000

[Producer.CMSPixelQUAD]
# DUT MODULE:
tbmtype = tbm08b
roctype = psi46digv21respin
pcbtype = desytb

tbmFile = "/home/cmspixel/configurations/D4028/tbmParameters"
trimFile = "/home/cmspixel/configurations/D4028/trimParameters"
dacFile = "/home/cmspixel/configurations/D4028/dacParameters"
maskFile = "/home/cmspixel/configurations/D4028/maskFile.dat"
i2c = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15

# DAC settings:
#wbc        = 141

# DTB related settings:
# external clock on/off
external_clock = 1
# Select trigger source ("async" for external trigger, "async_dir" for ext. w/ TBM):
trigger_source = async_dir

# DTB board USB ID
usbId = "DTB_WS6K9F"
hubid = 31;

# Scope outputs:
#signalprobe_d1 = ctr
#signalprobe_d2 = tout
#signalprobe_a2 = sdata

# Supply voltages and current limits:
vd = 2.800
va = 1.800
id = 1.000
ia = 1.000

# DTB Timing
clk = 4
ctr = 4
sda = 19
tin = 9
deser160phase = 4
#level = 15
level = 12
# No TLU:
#triggerlatency = 73
# TLU w/o coincidence:
triggerlatency = 69

# Other settings (producer & pxarCore)
# pxarCore library verbosity
#verbosity = DEBUGHAL
verbosity = WARNING
# Waiting time (ms) before stopping DAQ (TLU is slow in stopping triggering...)
tlu_waiting_time = 4000


[RunControl]
RunSizeLimit = 900100200

[DataCollector]
FilePattern = "../data/run$6R$X"

[LogCollector]
SaveLevel = EXTRA
PrintLevel = INFO
